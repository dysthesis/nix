#+title: Clock
#+PROPERTY: header-args :noweb yes :tangle main.js
#+auto_tangle:y

* Imports
#+begin_src js
import Widget from 'resource:///com/github/Aylur/ags/widget.js';
import GLib from 'gi://GLib';
#+end_src

* Label
#+begin_src js
/**
 * @param {import('types/widgets/label').LabelProps & {
 *   format?: string,
 *   interval?: number,
 * }} o
 */
export default ({
    format = '%H:%M:%S %B %e. %A',
    interval = 1000,
    ...rest
} = {}) => Widget.Label({
    class_name: 'clock',
    ...rest,
    connections: [[interval, label =>
        label.label = GLib.DateTime.new_now_local().format(format),
    ]],
});
#+end_src
